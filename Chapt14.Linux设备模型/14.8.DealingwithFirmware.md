##  14.8. Dealing with Firmware
作为驱动程序作者，您可能会发现自己遇到的设备必须先下载固件才能正常运行。硬件市场的许多部分的竞争是如此激烈，以至于即使是用于设备控制固件的一点 EEPROM 的成本也超出了制造商愿意花费的成本。因此，固件与硬件一起分布在 CD 上，操作系统负责将固件传送到设备本身。

您可能想通过如下声明来解决固件问题：

```c
static char my_firmware[  ] = { 0x34, 0x78, 0xa4, ... };
```
然而，这种方法几乎肯定是一个错误。将固件编码到驱动程序中会使驱动程序代码变得臃肿，使固件升级变得困难，并且很可能会遇到许可问题。供应商不太可能在 GPL 下发布固件映像，因此将其与 GPL 许可的代码混合通常是一个错误。因此，包含有线固件的驱动程序不太可能被接受到主线内核中或被 Linux 发行商包含。

### 14.8.1 内核固件接口
正确的解决方案是在需要时从用户空间获取固件。但是，请抵制尝试直接从内核空间打开包含固件的文件的诱惑；这是一个容易出错的操作，它将策略（以文件名的形式）放入内核中。相反，正确的方法是使用专门为此目的而创建的固件接口：
