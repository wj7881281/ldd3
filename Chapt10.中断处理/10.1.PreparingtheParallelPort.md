## 10.1.准备并行端口
并行接口虽然简单，但是可以触发中断。打印机使用此功能来通知 lp 驱动程序它已准备好接受缓冲区中的下一个字符。

与大多数设备一样，在收到指令之前，并行端口实际上不会产生中断。换句话说，它不会自行中断，而是等待外部的指令,并行标准规定，设置端口 2 的位 4（0x37a、0x27a 或其他）可启用中断报告。模块初始化时通过 Short 执行简单的 outb 调用来设置该位。

一旦中断被使能，每当引脚10（所谓的ACK 位）上的电信号从低电平变为高电平时，并行接口就会生成中断。强制接口产生中断的最简单方法（无需将打印机连接到端口）是连接并行连接器的引脚 9 和 10。将一小段电线插入系统背面并行端口连接器的相应孔中即可创建此连接。并行端口的引脚排列如图 9-1 所示。

引脚 9 是并行数据字节的最高有效位。如果将二进制数据写入 /dev/short0，则会生成多个中断。不过，将 ASCII 文本写入端口不会产生任何中断，因为 ASCII 字符集没有具有最高位集的条目。如果您不想将引脚连接在一起，但手头有打印机，则可以使用真实打印机运行示例中断处理程序，如下所示。但是，请注意，我们引入的探测功能取决于引脚 9 和 10 之间的跳线是否就位，您需要它来使用我们的代码进行探测实验。
